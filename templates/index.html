<!DOCTYPE html>
<html lang="ru" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IS ProCalendar</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tailwind.css') }}">
    <script src="{{ url_for('static', filename='js/tailwind.min.js') }}"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
        }
    </script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="bg-gray-100 dark:bg-gray-900">
<!-- Header -->
<header class="bg-blue-800 text-white px-8 py-0 shadow-lg fixed top-0 left-0 right-0 z-50">
    <div class="flex items-center justify-between w-full">
        <!-- –õ–æ–≥–æ—Ç–∏–ø –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ -->
        <div class="flex items-center">
            <img src="{{ url_for('static', filename='images/logo.jpg') }}"
                 alt="Logo"
                 onclick="app.navigateTo('home')"
                 class="w-20 h-20 object-contain mr-3 cursor-pointer">
            <h1 class="text-2xl font-bold leading-[1]">–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å</h1>
        </div>

        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã -->
        <div class="flex items-center space-x-2 ml-auto">
            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ -->
            <button class="nav-btn bg-transparent hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors"
                    data-page="calendar" onclick="app.navigateTo('calendar')">
                üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å
            </button>
            <button class="nav-btn bg-transparent hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors"
                    data-page="equipment"
                    onclick="app.navigateTo('equipment')">
                üè≠ –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
            </button>
            <button class="nav-btn bg-transparent hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors"
                    data-page="orders"
                    onclick="app.navigateTo('orders')">
                üìã –ó–∞–∫–∞–∑—ã
            </button>
            <button class="nav-btn bg-transparent hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors"
                    data-page="jobs"
                    onclick="app.navigateTo('jobs')">
                ‚öôÔ∏è –†–∞–±–æ—Ç—ã
            </button>
            <button class="nav-btn bg-transparent hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors"
                    data-page="gantt"
                    onclick="app.navigateTo('gantt')">
                üìä –î–∏–∞–≥—Ä–∞–º–º–∞
            </button>
            <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–µ–π -->
            <div class="flex items-center space-x-2 border-l border-gray-600 px-4 ml-2">
                <button id="undo-btn"
                        onclick="window.app.historyManager.undo()"
                        class="undo-redo-btn w-4 h-6 bg-red-700 hover:bg-red-600 text-white  rounded-lg transition-colors tooltip flex items-center justify-center"
                        title="–û—Ç–º–µ–Ω–∏—Ç—å (Ctrl+Z)">
                <svg viewBox="4 0 12 24"  fill="transparent" width="16" height="16">
                    <path id="Vector" d="M10 8H5V3M5.29102 16.3569C6.22284 17.7918 7.59014 18.8902 9.19218 19.4907C10.7942 20.0913 12.547 20.1624 14.1925 19.6937C15.8379 19.225 17.2893 18.2413 18.3344 16.8867C19.3795 15.5321 19.963 13.878 19.9989 12.1675C20.0347 10.4569 19.5211 8.78001 18.5337 7.38281C17.5462 5.98561 16.1366 4.942 14.5122 4.40479C12.8878 3.86757 11.1341 3.86499 9.5083 4.39795C7.88252 4.93091 6.47059 5.97095 5.47949 7.36556" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
                </button>
                <button id="redo-btn"
                        onclick="window.app.historyManager.redo()"
                        class="undo-redo-btn w-4 h-6 bg-red-700 hover:bg-red-600 text-white rounded-lg transition-colors tooltip flex items-center justify-center"
                        title="–ü–æ–≤—Ç–æ—Ä–∏—Ç—å (Ctrl+Y)">
                <svg viewBox="4 0 12 24" transform="matrix(-1, 0, 0, 1, 0, 0)" fill="transparent" width="16" height="16">
                    <path id="Vector" d="M10 8H5V3M5.29102 16.3569C6.22284 17.7918 7.59014 18.8902 9.19218 19.4907C10.7942 20.0913 12.547 20.1624 14.1925 19.6937C15.8379 19.225 17.2893 18.2413 18.3344 16.8867C19.3795 15.5321 19.963 13.878 19.9989 12.1675C20.0347 10.4569 19.5211 8.78001 18.5337 7.38281C17.5462 5.98561 16.1366 4.942 14.5122 4.40479C12.8878 3.86757 11.1341 3.86499 9.5083 4.39795C7.88252 4.93091 6.47059 5.97095 5.47949 7.36556" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
                </button>
            </div>
            <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã -->
            <button id="theme-toggle"
                    class="theme-btn w-10 h-10 hover:bg-blue-600 rounded-full flex items-center border-double border-4 justify-center ml-4"
                    onclick="app.toggleTheme()">
                    <span id="theme-icon">
                    </span>
            </button>
        </div>
    </div>
</header>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç (—Å –æ—Ç—Å—Ç—É–ø–æ–º –¥–ª—è header) -->
<div class="pt-24 min-h-screen">
    <!-- Sidebar -->
    <aside id="sidebar"
           class="bg-blue-50 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transform transition-all duration-300 opacity-100 translate-x-0">
        <div class="sidebar-content">
            <div class="sidebar-scrollable p-4 flex flex-col mb-6">
                <div class="flex space-x-1 items-start mt-6 mb-4">
                    <h2 class="text-lg font-semibold dark:text-white">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
                    <!-- –ó–Ω–∞—á–æ–∫ –ø–æ–¥—Å–∫–∞–∑–∫–∏ -->
                    <button id="tips-toggle"
                            class="w-4 h-4 bg-blue-200 dark:bg-blue-800 hover:bg-blue-300 dark:hover:bg-blue-700 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-xs font-bold transition-colors tooltip"
                            title="–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É">
                        ?
                    </button>
                </div>
                <div class="space-y-2 quick-actions">
                    <button class="w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors text-left"
                            onclick="app.createNewType()">
                        üé® –ù–æ–≤—ã–π —Ç–∏–ø
                    </button>
                    <button class="new-equipment-btn w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors text-left"
                            onclick="app.createNewEquipment()">
                        üè≠ –ù–æ–≤–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
                    </button>
                    <button class="w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors text-left"
                            onclick="app.createNewOrder()">
                        üìã –ù–æ–≤—ã–π –∑–∞–∫–∞–∑
                    </button>
                    <button class="new-job-btn w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors text-left"
                            onclick="app.createNewJob()">
                        ‚öôÔ∏è –ù–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞
                    </button>
                </div>
                    <!-- –ö–Ω–æ–ø–∫–∏ –ø—Ä–∏–∂–∞—Ç–∏—è —Ä–∞–±–æ—Ç (–≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –ø—Ä–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ) -->
                    <div id="job-move-buttons" class="hidden flex space-x-2 pt-2">
                        <button class="w-full bg-green-500 hover:bg-green-600 text-white justify-items-center py-2 rounded-lg transition-colors text-left text-sm"
                                onclick="app.ganttManager.moveJobLeft()"
                                title="–ü—Ä–∏–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π (Ctrl+‚Üê)">
                            <div class="flex space-x-2 items-center justify-items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="10" fill="white" height="19">
                                    <path d="M10 3.116 4 9.611l6 6.496V3.116zM0 0h2v19H0z" fill="white"/>
                                </svg>
                                <span>–≤–ª–µ–≤–æ</span>
                            </div>
                        </button>
                        <button class="w-full bg-green-500 hover:bg-green-600 text-white justify-items-center py-2 rounded-lg transition-colors text-left text-sm"
                                onclick="app.ganttManager.moveJobRight()"
                                title="–ü—Ä–∏–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É –∫ —Å–ª–µ–¥—É—é—â–µ–π (Ctrl+‚Üí)">
                            <div class="flex space-x-2 items-center justify-items-center">
                                <span>–≤–ø—Ä–∞–≤–æ</span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="10" fill="white" height="19">
                                    <path d="M0 15.884L6 9.389L0 2.893V15.884zM10 19H8V0h2z" fill="white"/>
                                </svg>
                            </div>
                        </button>
                    </div>
                <div class="mt-3 pt-2 flex-1 border-t flex flex-col border-gray-300 dark:border-gray-600">
                    <h3 class="text-md font-semibold dark:text-white">–î–µ—Ç–∞–ª–∏ –ø–æ —Ä–∞–±–æ—Ç–µ</h3>
                    <div id="job-details" class="mt-2 flex-1 text-sm dark:text-gray-300 overflow-y-auto">
                        <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        <div class="text-center py-4 text-gray-500 dark:text-gray-400">
                            –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–±–æ—Ç—É –Ω–∞ –¥–∏–∞–≥—Ä–∞–º–º–µ
                        </div>
                    </div>
                </div>
                <div class="mt-3 pt-2 border-t border-gray-300 dark:border-gray-600">
                    <h3 class="text-md font-semibold dark:text-white">–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏</h3>
                    <div class="mt-2 space-y-2">
                        <button class="w-full bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-lg transition-colors text-left text-sm"
                                onclick="app.openBackupManager()">
                            üíæ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—ç–∫–∞–ø–∞–º–∏
                        </button>
                    </div>
                </div>
                <button class="mt-2 w-full bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg transition-colors text-left text-sm"
                    onclick="app.clearHistory()">
                    üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
                </button>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main id="main-content" class="flex-1 pl-4 pr-4 py-0 content-transition">
        <div id="page-content">
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
            <div class="text-center py-12">
                <h2 class="text-3xl font-bold dark:text-white mb-4">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ IS ProCalendar</h2>
                <p class="text-xl dark:text-gray-300">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª –¥–ª—è —Ä–∞–±–æ—Ç—ã</p>
            </div>
        </div>
    </main>
</div>

<!-- Sidebar Toggle Button -->
<button id="sidebar-toggle"
        class="fixed top-24 z-50 w-8 h-8 text-black dark:text-white rounded-full flex items-center justify-center transition-all duration-300 ease-in-out hover:scale-110"
        style="left: 200px; font-size: 2rem;" onclick="app.toggleSidebar()">
    ¬´
</button>
<div id="tips-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-auto">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ -->
        <div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700">
            <h3 class="text-lg font-semibold text-gray-800 dark:text-white">üí° –ü–æ–ª–µ–∑–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞</h3>
            <button id="tips-close" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ -->
        <div class="p-4">
            <h4 id="tips-title" class="text-xl font-semibold text-blue-600 dark:text-blue-400 mb-3"></h4>
            <p id="tips-content" class="text-gray-700 dark:text-gray-300 leading-relaxed"></p>
        </div>

        <!-- –§—É—Ç–µ—Ä –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ -->
        <div class="flex justify-between items-center p-4 border-t border-gray-200 dark:border-gray-700">
            <button id="next-tip" class="text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium">
                –°–ª–µ–¥—É—é—â–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞
            </button>
            <button id="tips-ok" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors">
                –ü–æ–Ω—è—Ç–Ω–æ
            </button>
        </div>
    </div>
</div>
<!-- –ü–µ—Ä–µ–¥–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–µ–º—ã –≤ JavaScript -->
<script>
    window.APP_CONFIG = {
        isDark: {% if is_dark %}true{% else %}false{% endif %},
        currentPage: 'home'
    };
</script>
<script type="module" src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
